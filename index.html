<html><head>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html; charset=GBK">
	<title>&#8206;</title>
	<link rel="apple-touch-icon-precomposed" href="http://abc.haoyunlai.xyz/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="./style.css">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="apple-touch-icon" href="icon.png">
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans&display=swap" rel="stylesheet">
	<link rel="manifest" href="manifest.json">

	<!-- 🌄 Hình nền toàn trang -->
<style>
body {
  background-image: url('https://sonduong99.github.io/serverMDM_Sonduong/IMG_8622.jpeg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
}
</style>
</head>

<body>
<p><br><br></p>	
<div class="zhengti">
	<div class="juzuo1">
			V25093477 (Iris Tran)
	</div>
	<div class="saomatishi juzhong" id="biaoti">
		将二维码对准扫描器扫码进出场	
	</div>
	
	<div class="yuan1 yuant"></div>
	<div class="yuan2 yuant"></div>
	
	<div class="juzhong erweima zise">
		<div class="juzuo2" id="dateTime00" style="font-weight: 500;"></div>
		<div id="neirong">
			<img class="ewm" src="./ewm.gif"> 		
		</div>
		<div id="neirong1">	
			<div>
				<a class="juzhong footsty shuaxinerweima" style="margin-top: 2rem; font-size: 3.3rem" href="javascript:location.reload()">刷新二维码</a>
			</div>
		</div>
		<div class="juzhong footsty yishengxiao word_breath">
			<div style="display:" onclick="changetxt()">已生效
			</div>
		</div>
		<div class="juzhong footsty shijian">
			<script>
				Date.prototype.format = function (fmt) {
					var o = {
						"y+": this.getFullYear(),
						"M+": this.getMonth() + 1, 
						"d+": this.getDate(), 
						"h+": this.getHours(), 
						"m+": this.getMinutes(), 
						"s+": this.getSeconds(), 
					};
					if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
					for (var k in o)
						if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
					return fmt;
				}
				
				setInterval(function () {
				  const dt = document.getElementById('dateTime00');
				  if (dt) {
					dt.innerHTML = (new Date()).format('yyyy-M-d hh:mm:ss');
				  }
				}, 1000);
				
				function changetxt(){
					document.getElementById('biaoti').innerText="您的设备已符合安全规范";
					document.getElementById('neirong').innerText="刷新二维码";
					document.getElementById('neirong').innerHTML="<img class='true' src='./true.png'><div	class='truetxt'><p class='jinchang'>进场成功</p><p class='riqi' id='dateTime01'></p></div>";

					setInterval(function () {
						  const dt = document.getElementById('dateTime01');
						  if (dt) {
							dt.innerHTML = (new Date()).format('yyyy-MM-dd hh:mm');
						  }
						}, 1000);
				}
			</script>
		
		<!-- Bộ đếm 12 tiếng -->
<div id="dateTime3" style="font-size:44px; color:#00C853;"></div>
<script>
function updateTimer() {
  const now = new Date();

  // Ca ngày và ca đêm
  const dayStart = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 7, 58, 0);
  const nightStart = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 19, 58, 0);

  let start, end;

  if (now >= dayStart && now < nightStart) {
    // Trong ca ngày
    start = dayStart;
    end = nightStart;
  } else {
    // Trong ca đêm
    if (now < dayStart) {
      // Trước 07:58 sáng → ca đêm hôm trước
      start = new Date(now.getFullYear(), now.getMonth(), now.getDate() - 1, 19, 58, 0);
      end = dayStart;
    } else {
      // Sau 19:58 → ca đêm hôm nay
      start = nightStart;
      end = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 7, 58, 0);
    }
  }

  // Số giây đã trôi qua từ mốc bắt đầu ca
  let elapsed = Math.floor((now - start) / 1000);

  // Chu kỳ = thời gian ca hiện tại
  const cycleSeconds = Math.floor((end - start) / 1000);
  elapsed = elapsed % cycleSeconds;

  // Chuyển giây thành hh:mm:ss
  const hours = Math.floor(elapsed / 3600);
  const minutes = Math.floor((elapsed % 3600) / 60);
  const seconds = elapsed % 60;

  // Hiển thị
  let display;
  if (hours > 0) {
    display = String(hours).padStart(2,'0') + ':' +
              String(minutes).padStart(2,'0') + ':' +
              String(seconds).padStart(2,'0');
  } else {
    display = String(minutes).padStart(2,'0') + ':' +
              String(seconds).padStart(2,'0');
  }

  document.getElementById("dateTime3").textContent = display;
}

// Chạy ngay khi load và cập nhật mỗi giây
updateTimer();
setInterval(updateTimer, 1000);
</script>
		</div>
	</div>
	
<!-- End ImageReady Slices -->
	<div class="dierhang">
		尊敬的员工您好，您已进入企业涉密区域，出于企业安全考虑，您的手机摄像头将被禁止拍摄，感谢您的配合。
	</div>

</div>

<div id="ai-assist-root"></div>

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js').then(() => {
      console.log("Service Worker Registered v3");
    });
  }
</script>
</body></html>